(self.webpackChunkthree=self.webpackChunkthree||[]).push([[343],{3619:function(e,t,l){"use strict";var n=l(1774),o=l(1425);const a={id:"oplbase-frontend-app",class:"app"};var i={name:"App"},s=l(6262);var r=(0,s.A)(i,[["render",function(e,t,l,n,i,s){const r=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",a,[(0,o.bF)(r)])}]]),c=(l(4114),l(5220));var u=l(1083);function d(e){const t=JSON.stringify(e);localStorage.setItem("appState",t),console.log("--- LOCAL STORAGE UPDATED ---")}const p=(0,n.nY)({id:"selection",state:()=>function(){const e=localStorage.getItem("appState");if(e)return JSON.parse(e)}()||{options:{1:{currentPrinciple:null,actions:[]},2:{currentPrinciple:null,actions:[]},3:{currentPrinciple:null,actions:[]}},currentOption:1,principle:null,selectedActions:[]},actions:{setCurrentOption(e){this.currentOption=Number(e)},setPrinciple(e){this.options[this.currentOption].currentPrinciple=e},removePrinciple(e){this.options[e]?(this.options[e].currentPrinciple=null,this.options[e].actions=[],d(this.$state)):console.warn("Option not found:",e)},addSelection(e,t,l){const n=this.options[this.currentOption];n.currentPrinciple=e;let o=n.actions.find((e=>e.actionId===t));const a=l.map((e=>e.id));o?a.forEach((e=>{o.tools.includes(e)||o.tools.push(e)})):n.actions.push({actionId:t,tools:a})},addToolToAction(e,t,l){if(this.options[e]&&this.options[e].actions){const n=this.options[e].actions.find((e=>e.actionId==t));n?n.tools.includes(l)?console.warn("Tool already exists in the action:",l):n.tools.push(l):console.error("Action not found:",t)}else console.error("Option not found:",e)},removeToolFromAction(e,t,l){const n=this.options[e].actions.find((e=>e.actionId===t));n&&(n.tools=n.tools.filter((e=>e!==l)))},addSelectedAction(e){const t=this.options[this.currentOption].actions;t.find((t=>t.actionId===e))?console.warn("This action is already selected."):t.length<6?t.push({actionId:e,tools:[]}):console.warn("You can select a maximum of 3 actions.")},removeSelectedAction(e){const t=this.options[this.currentOption].actions,l=t.findIndex((t=>t.actionId===e));-1!==l?t.splice(l,1):console.warn("Action ID not found in selectedActions.")},clearSelectedActions(){this.selectedActions=[]},getStoredToolsForAction(e){const t=this.options[this.currentOption].actions.find((t=>t.actionId==e));return t&&Array.isArray(t.tools)?t.tools:(console.error("Action not found or tools not present:",e,t),[])},async sendToWordPress(e,t){console.log(" SEND TO WORDPRESS CALLED!! ----"),console.log("Store Options data: ",this.options);try{const l="/wp-json/vueapp/v1/update_user_meta",n=await u.A.post(l,{user_id:e,meta_key:t,options:this.options});console.log("Data sent successfully:",n.data),d(this.$state)}catch(e){console.error("Error sending data to WordPress:",e)}},saveState(){d(this.$state)},async fetchFromWordPress(e,t){localStorage.removeItem("appState");try{const l="/wp-json/vueapp/v1/get_user_meta",n=await u.A.get(l,{params:{user_id:e,meta_key:t}});n.data&&n.data.options?(this.options=n.data.options,d(this.$state)):console.error("Invalid response format:",n.data)}catch(e){console.error("Error fetching user data:",e)}}}}),v=(0,n.nY)("main",{state:()=>({metaKey:"user_meta_data",isAuthenticated:!1,errorMessage:"",userData:{}}),actions:{checkAuth(){"true"===localStorage.getItem("isAuthenticated")&&(this.isAuthenticated=!0,this.userData=JSON.parse(localStorage.getItem("userData"))||{})},async login(e){this.errorMessage="";try{const t=await u.A.post("/wp-json/vueapp/v1/login",e,{withCredentials:!0,headers:{"X-WP-Nonce":window.oplbaseNonce}});if(console.log("Login response:",t.data),!t.data.success)return void this.handleError({response:{data:{message:t.data.message}}});this.isAuthenticated=!0,this.userData=t.data.user||{},localStorage.removeItem("appState"),localStorage.setItem("isAuthenticated","true"),localStorage.setItem("userData",JSON.stringify(this.userData)),await this.fetchUserData(t.data.user.id)}catch(e){this.handleError(e)}},async fetchUserData(e){const t=p();await t.fetchFromWordPress(e,this.metaKey)},setUser(e){this.userData=e},async logout(){try{await u.A.post("/wp-json/vueapp/v1/logout"),this.isAuthenticated=!1,this.userData={},localStorage.removeItem("isAuthenticated"),localStorage.removeItem("userData"),localStorage.removeItem("appState"),gl.push("/")}catch(e){console.error("Logout Error:",e)}},handleError(e){this.isAuthenticated=!1,e.response?this.errorMessage=e.response.data.message||"Login failed. Please try again.":e.request?this.errorMessage="No response from server. Check your network connection.":this.errorMessage="Error: "+e.message}}}),h={key:0},m={class:"app-header"},f={class:"user-controls"};var k={__name:"AppHeader",setup(e){const t=v(),l=(0,o.EW)((()=>!!t.userData?.username)),n=(0,o.EW)((()=>t.userData||{})),a=()=>{t.logout()};return(e,t)=>{const i=(0,o.g2)("router-link");return l.value?((0,o.uX)(),(0,o.CE)("div",h,[(0,o.Lk)("header",m,[(0,o.Lk)("nav",null,[(0,o.bF)(i,{class:"btn btn--outline",to:"/"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("Home")]))),_:1}),(0,o.bF)(i,{class:"btn btn--outline",to:"/actionplan"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Action plan")]))),_:1})]),(0,o.Lk)("div",f,[(0,o.Lk)("strong",null,(0,o.v_)(n.value?.username||"Guest"),1),t[2]||(t[2]=(0,o.eW)(" | ")),(0,o.Lk)("button",{class:"btn-link",onClick:a},"Logout"),(0,o.Q3)(" {{ currentOption }} ")])])])):(0,o.Q3)("v-if",!0)}}};l(5797);var g=(0,s.A)(k,[["__scopeId","data-v-6088a53c"]]);l(1445);const y={};var b={components:{AppHeader:g,AppFooter:(0,s.A)(y,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("footer",null,t[0]||(t[0]=[(0,o.eW)("Content made available thanks to "),(0,o.Lk)("a",{href:"https://www.bioregional.com/one-planet-living",target:"_blank"},"Bioregional",-1)]))}],["__scopeId","data-v-35936112"]])}};var L=(0,s.A)(b,[["render",function(e,t,l,n,a,i){const s=(0,o.g2)("AppHeader"),r=(0,o.g2)("AppFooter");return(0,o.uX)(),(0,o.CE)("div",null,[(0,o.bF)(s),(0,o.RG)(e.$slots,"default"),(0,o.bF)(r)])}]]);const _={class:"principle-header"},C={class:"principle-header__icon"},E=["src"],A={class:"principle-header__content"},w=["innerHTML"];var I={__name:"PrincipleHeader",props:{principle:{type:Object,required:!0}},setup(e){return(t,l)=>((0,o.uX)(),(0,o.CE)("div",_,[(0,o.Lk)("div",C,[(0,o.Lk)("div",{style:(0,o.Tr)({"background-color":e.principle.color}),class:(0,o.C4)(`principle-icon pi-${e.principle.id}`)},[(0,o.Lk)("img",{src:e.principle.icon.url,alt:"{{ principle.title }}"},null,8,E)],6)]),(0,o.Lk)("div",A,[(0,o.Lk)("h2",null,(0,o.v_)(e.principle.title),1),(0,o.Lk)("div",{innerHTML:e.principle.description},null,8,w)])]))}};l(9314);var S=(0,s.A)(I,[["__scopeId","data-v-7e473484"]]);const M={class:"opl-modal"},H={class:"opl-modal-header"},T={class:"opl-modal-body"};var X={__name:"ConfirmationModal",emits:["confirm","cancel"],setup(e,{emit:t}){const l=t,n=()=>{l("confirm")},a=()=>{l("cancel")};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"opl-modal-overlay",onClick:(0,o.D$)(a,["self"])},[(0,o.Lk)("div",M,[(0,o.Lk)("div",H,[(0,o.RG)(e.$slots,"header",{},(()=>[t[0]||(t[0]=(0,o.eW)("Confirm Action"))]))]),(0,o.Lk)("div",T,[(0,o.RG)(e.$slots,"default",{},(()=>[t[1]||(t[1]=(0,o.eW)("Are you sure you want to do this?"))]))]),(0,o.Lk)("div",{class:"opl-modal-footer"},[(0,o.Lk)("button",{class:"c-btn c-btn--danger",onClick:n},"Delete"),(0,o.Lk)("button",{class:"c-btn c-btn--primary",onClick:a},"Cancel")])])]))}};l(7063);var W=(0,s.A)(X,[["__scopeId","data-v-418f8da2"]]);const P={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",fill:"#ffffff",viewBox:"0 0 32 32"};const F={};var R=(0,s.A)(F,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",P,t[0]||(t[0]=[(0,o.Lk)("path",{d:"M4 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM10 28h-2v-14h2v14zM14 28h-2v-14h2v14zM18 28h-2v-14h2v14zM22 28h-2v-14h2v14z"},null,-1),(0,o.Lk)("path",{d:"M26.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM18 4h-6v-1.975h6v1.975z"},null,-1)]))}]]);const D={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 32 32"};const O={};var K=(0,s.A)(O,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("svg",D,t[0]||(t[0]=[(0,o.Lk)("path",{d:"M27 0c2.761 0 5 2.239 5 5 0 1.126-0.372 2.164-1 3l-2 2-7-7 2-2c0.836-0.628 1.874-1 3-1zM2 23l-2 9 9-2 18.5-18.5-7-7-18.5 18.5zM22.362 11.362l-14 14-1.724-1.724 14-14 1.724 1.724z"},null,-1)]))}]]);function N(){const e=(0,o.KR)([]),t=(0,o.KR)(!0);return(0,o.sV)((async()=>{try{const t=await fetch("/wp-json/vueapp/v1/principles");if(!t.ok)throw new Error("Network response was not ok");const l=await t.json();e.value=l.principles}catch(e){console.error("Error fetching principles:",e)}finally{t.value=!1}})),{principles:e,loading:t}}const x={class:"preloader"};l(3578);const Q={};var q=(0,s.A)(Q,[["render",function(e,t){return(0,o.uX)(),(0,o.CE)("div",x,t[0]||(t[0]=[(0,o.Lk)("div",{class:"spinner"},null,-1)]))}],["__scopeId","data-v-da923ef8"]]);const B={key:1},G={key:0,class:"section1 h-flow c-section"},z={class:"section c-hero h-2-col"},j={class:"c-hero--text"},Y=["innerHTML"],U={key:0},$={class:"h-flow-none"},V={class:"validation-holder"},J={key:0,class:"validation-holder__message"},Z={class:"c-reel"},ee=["onClick"],te=["src","alt"],le=["innerHTML"],ne={class:"section c-hero h-2-col h-align-top"},oe={class:"panel-list"},ae={class:"panel selected"},ie={class:"panel__header"},se={class:"utilities"},re=["onClick"],ce=["onClick"],ue=["innerHTML"],de={class:"panel_current"},pe={key:0,class:"panel selected"},ve={class:"panel__header"},he=["innerHTML"],me={class:"c-feature-box"};var fe={__name:"ActionsPage",setup(e){const t=v(),l=p(),n=(0,o.EW)((()=>t.userData)).value.id,a=t.metaKey,{principles:i,loading:s}=N(),r=(0,o.KR)(!1),u=(0,o.KR)(""),d=(0,c.rd)(),h=(0,c.lq)(),m=(0,o.EW)((()=>h.query.option||"1")).value,f=parseInt(h.params.principleId,10);l.setCurrentOption(m),l.setPrinciple(f);const k=m,g=(0,o.KR)(null),y=(0,o.KR)(null),b=(0,o.KR)(null),_=(0,o.KR)([]),C=(0,o.KR)(!1),E=(0,o.KR)(null),A=()=>{E.value&&I(E.value),C.value=!1,E.value=null},w=()=>{C.value=!1,E.value=null};(0,o.nT)((()=>{if(r.value=!s.value,r.value){const e=i.value.find((e=>e.id===f));b.value=e,_.value=e?e.actions:[]}}));const I=e=>{l.removeSelectedAction(e.id)},M=(0,o.EW)((()=>{let e=l.options[k].actions;const t=[];if(b)for(const l of e){const e=b.value.actions.find((e=>e.id===l.actionId));if(e){const{tools:l,...n}=e;t.push(n)}}return t})),H=(0,o.EW)((()=>_.value.filter((e=>!M.value.some((t=>t.id===e.id)))))),T=e=>{l.saveState(),null!==e.id&&(l.addSelectedAction(g.value),d.push({name:"tools",params:{principleId:b.id,actionId:e.id},query:{option:m}}))};return(e,t)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>[(0,o.R1)(s)?((0,o.uX)(),(0,o.Wv)(q,{key:0})):((0,o.uX)(),(0,o.CE)("div",B,[r.value?((0,o.uX)(),(0,o.CE)("section",G,[C.value?((0,o.uX)(),(0,o.Wv)(W,{key:0,onConfirm:A,onCancel:w},{header:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)(" Delete Action ")]))),default:(0,o.k6)((()=>[t[3]||(t[3]=(0,o.eW)(" Are you sure you want to delete this action? "))])),_:1})):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",z,[(0,o.Lk)("div",j,[t[4]||(t[4]=(0,o.Lk)("h1",null,"Choose an action",-1)),(0,o.Lk)("div",{innerHTML:b.value.strapline},null,8,Y)]),r.value?((0,o.uX)(),(0,o.CE)("div",U,[(0,o.bF)(S,{principle:b.value},null,8,["principle"])])):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",$,[(0,o.Lk)("div",V,[(0,o.bF)(o.F,{name:"fade"},{default:(0,o.k6)((()=>[u.value?((0,o.uX)(),(0,o.CE)("div",J,(0,o.v_)(u.value),1)):(0,o.Q3)("v-if",!0)])),_:1})]),(0,o.Lk)("ul",Z,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(H.value,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:"panel-list__item c-card"},[(0,o.Lk)("button",{class:(0,o.C4)(["panel",{selected:e.id===y.value}]),onClick:t=>((async(e,t)=>{u.value="";const n=l.options[m].actions;n.some((e=>e.actionId===t.id))?u.value="This action is already selected.":n.length>3?u.value="You can select a maximum of 3 actions.":(g.value=e,y.value=t)})(e.id,e),T(y.value))},[e.image?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.image.url,alt:e.title,class:"principle-image"},null,8,te)):(0,o.Q3)("v-if",!0),(0,o.Lk)("h3",null,(0,o.v_)(e.title),1),(0,o.Lk)("div",{innerHTML:e.intro},null,8,le)],10,ee)])))),128))])]),(0,o.Lk)("div",ne,[(0,o.Lk)("div",null,[(0,o.Lk)("ul",oe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(M.value,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:"c-card"},[(0,o.Lk)("div",ae,[(0,o.Lk)("div",ie,[(0,o.Lk)("h3",null,(0,o.v_)(e.title),1),(0,o.Lk)("div",se,[(0,o.Lk)("button",{class:"c-btn c-btn--utility",onClick:()=>(e=>{console.log("OPEN MODAL"),E.value=e,C.value=!0})(e)},[(0,o.bF)(R)],8,re),(0,o.Lk)("button",{class:"c-btn c-btn--utility",onClick:()=>(e=>{null!==e.id&&(l.addSelectedAction(g.value),d.push({name:"tools",params:{principleId:b.id,actionId:e.id},query:{mode:"edit",option:m}}))})(e)},[(0,o.bF)(K)],8,ce)])]),(0,o.Lk)("div",{innerHTML:e.description},null,8,ue)])])))),128))]),(0,o.Q3)(" /////// SELECTED ACTION  /////// "),(0,o.Lk)("div",de,[y.value?((0,o.uX)(),(0,o.CE)("div",pe,[(0,o.Lk)("div",ve,[(0,o.Lk)("h3",null,(0,o.v_)(y.value.title),1)]),(0,o.Lk)("div",{innerHTML:y.value.intro},null,8,he)])):(0,o.Q3)("v-if",!0)]),(0,o.Q3)(" <ActionAdd /> ")]),(0,o.Lk)("div",me,[(0,o.Lk)("h3",null,(0,o.v_)(M.value.length<3?"Next... Tools and Support":"Back to Principles"),1),M.value.length<3&&y.value?((0,o.uX)(),(0,o.CE)("button",{key:0,class:"c-btn c-btn--primary",onClick:t[0]||(t[0]=()=>T(y.value))}," Choose the selected action ")):(0,o.Q3)("v-if",!0),M.value.length>=1?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"c-btn c-btn--primary",onClick:t[1]||(t[1]=()=>(async()=>{try{await l.sendToWordPress(n,a),d.push({name:"Actionplan",query:{option:m}})}catch(e){console.error("Error in sendToWordPress:",e)}})())}," I'm done, pick another principle ")):(0,o.Q3)("v-if",!0)])])])):(0,o.Q3)("v-if",!0)]))])),_:1}))}};l(6929);var ke=(0,s.A)(fe,[["__scopeId","data-v-6a438cd1"]]);const ge={key:1},ye={class:"action-plan"},be={class:"action-plan__header"},Le={class:"action-plan__title"},_e={class:"action-plan__controls"},Ce={class:"principles"},Ee={class:"principle__header"},Ae=["src"],we={class:"principle-content"},Ie=["innerHTML"],Se={class:"principle-media"},Me={class:"utilities"},He=["onClick"],Te=["onClick"],Xe={key:0},We=["innerHTML"],Pe={key:1},Fe=["src"],Re=["innerHTML"],De=["innerHTML"],Oe={key:1,class:"principle holder"},Ke=["onClick"];var Ne={__name:"ActionPlanPage",setup(e){const t=p(),l=t.options,{principles:n,loading:a}=N(),i=(0,o.KR)(!1),s=(0,c.rd)(),r=(0,c.lq)();let u=(0,o.EW)((()=>r.query.option||"1")).value;t.setCurrentOption(u);const d=(0,o.KR)([]),v=(0,o.KR)();(0,o.nT)((()=>{i.value=!a.value,i.value&&(console.log("LOADED: "),d.value=n.value,v.value=function(e){const t=[];for(const l in e){const n=e[l],o=d.value.find((e=>e.id===parseInt(n.currentPrinciple)));if(o){const e=o.title,l=o.description,a=o.color,i=o.icon,s=o.id,r=o.video,c=o.image,u=[];for(const e of n.actions){const t=o.actions.find((t=>t.id===parseInt(e.actionId)));if(t){const l=e.tools.map((e=>{const l=t.tools.find((t=>t.id===e));if(l)return{toolId:l.id,toolTitle:l.title,toolDescription:l.description}})).filter(Boolean);u.push({actionName:t.title,actionDescription:t.description,tools:l})}}t.push({principleName:e,principleDescription:l,principleColor:a,principleIcon:i,principleVideo:r,principleImage:c,principleId:s,actions:u})}else t.push({principleName:null,actions:null})}return t}(l))}));const h=(0,o.KR)(!1),m=(0,o.KR)(null),f=()=>{m.value&&(t.removePrinciple(m.value.optionId),h.value=!1,m.value=null)},k=()=>{h.value=!1,m.value=null};return(e,l)=>{const n=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>[(0,o.R1)(a)?((0,o.uX)(),(0,o.Wv)(q,{key:0})):((0,o.uX)(),(0,o.CE)("div",ge,[(0,o.Lk)("div",ye,[h.value?((0,o.uX)(),(0,o.Wv)(W,{key:0,onConfirm:f,onCancel:k},{header:(0,o.k6)((()=>l[0]||(l[0]=[(0,o.eW)(" Delete Principle ")]))),default:(0,o.k6)((()=>[l[1]||(l[1]=(0,o.eW)(" Are you sure you want to delete this Principle? ")),l[2]||(l[2]=(0,o.Lk)("br",null,null,-1)),l[3]||(l[3]=(0,o.eW)("This will also remove the Principle's associated Actions and Tools. "))])),_:1})):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",be,[(0,o.Lk)("div",Le,[l[5]||(l[5]=(0,o.Lk)("h1",null,"Your Action Plan",-1)),(0,o.Lk)("div",_e,[(0,o.bF)(n,{class:"btn btn--solid",to:"/printhome"},{default:(0,o.k6)((()=>l[4]||(l[4]=[(0,o.eW)("Print Action Plan")]))),_:1})])]),l[6]||(l[6]=(0,o.Lk)("p",null," Here are your current chosen principles, click to edit or print out for your records. ",-1))]),(0,o.Lk)("div",Ce,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(v.value,((e,l)=>((0,o.uX)(),(0,o.CE)(o.FK,{key:e.id},[e.principleName?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"principle filled",style:(0,o.Tr)({backgroundColor:e.principleColor,color:"#002f49"})},[(0,o.Lk)("div",Ee,[(0,o.Lk)("div",{class:(0,o.C4)("principle-icon pi-"+e.principleId)},[(0,o.Lk)("img",{src:e.principleIcon.url,alt:"{{ data.principleName }}"},null,8,Ae)],2),(0,o.Lk)("div",we,[(0,o.Lk)("h2",null,(0,o.v_)(e.principleName),1),(0,o.Lk)("div",{innerHTML:e.principleDescription},null,8,Ie)]),(0,o.Lk)("div",Se,[(0,o.Lk)("div",Me,[(0,o.Lk)("button",{class:"c-btn c-btn--utility invert",onClick:()=>{return t=e.principleId,n=l+1,console.log("OPEN MODAL with principleId:",t,"and optionId:",n),m.value={principleId:t,optionId:n},void(h.value=!0);var t,n}},[(0,o.bF)(R)],8,He),(0,o.Lk)("button",{class:"c-btn c-btn--utility invert",onClick:n=>{return o=e.principleId,a=l+1,t.setCurrentOption(a),void s.push({name:"actions",params:{principleId:o},query:{mode:"edit",option:a}});var o,a}},[(0,o.Q3)(" Edit Actions and Tools "),(0,o.bF)(K)],8,Te)]),e.principleVideo?((0,o.uX)(),(0,o.CE)("div",Xe,[(0,o.Q3)(" Render video if set "),(0,o.Lk)("div",{class:"principle-video",innerHTML:e.principleVideo},null,8,We)])):e.principleImage.url?((0,o.uX)(),(0,o.CE)("div",Pe,[(0,o.Q3)(" Render image if video is not set "),(0,o.Lk)("img",{src:e.principleImage.url,alt:"Image Alt Text",class:"principle-image"},null,8,Fe)])):(0,o.Q3)("v-if",!0)])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.actions,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"panel"},[(0,o.Lk)("h3",null,(0,o.v_)(e.actionName),1),(0,o.Lk)("div",{innerHTML:e.actionDescription},null,8,Re),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.tools,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"panel tool"},[(0,o.Lk)("h4",null,(0,o.v_)(e.toolTitle),1),e.toolDescription?((0,o.uX)(),(0,o.CE)("p",{key:0,innerHTML:e.toolDescription},null,8,De)):(0,o.Q3)("v-if",!0)])))),128))])))),128))],4)):((0,o.uX)(),(0,o.CE)("div",Oe,[(0,o.Lk)("button",{class:"btn btn--solid",onClick:e=>{return n=l+1,t.setCurrentOption(n),void s.push({name:"Principles",query:{option:n}});var n}}," Add a principle ",8,Ke)]))],64)))),128))])])]))])),_:1})}}};l(8354);var xe=(0,s.A)(Ne,[["__scopeId","data-v-89c5dbea"]]);const Qe=["innerHTML"];var qe={__name:"LoginForm",setup(e){const t=v(),l=(0,o.KR)(""),n=async e=>{console.log("LOGIN CALLED");try{const l={username:e.login_username,password:e.login_password};await t.login(l)}catch(e){console.error("Login Error:",e),e.response?l.value=e.response.data.message||"An error occurred during login.":e.request?l.value="No response received from the server. Please check your network connection.":l.value="An error occurred while setting up the login request."}};return(e,t)=>{const a=(0,o.g2)("FormKit");return(0,o.uX)(),(0,o.Wv)(a,{type:"form","submit-label":"Login",actions:!1,onSubmit:n},{default:(0,o.k6)((({value:e})=>[(0,o.bF)(a,{id:"login-username",name:"login_username",label:"Username",type:"text",placeholder:"Username",autocomplete:"current-username",validation:"required"}),(0,o.bF)(a,{id:"login-password",name:"login_password",label:"Password",type:"password",placeholder:"Password",autocomplete:"current-password",validation:"required"}),(0,o.bF)(a,{type:"submit",label:"Login"}),l.value?((0,o.uX)(),(0,o.CE)("p",{key:0,innerHTML:l.value},null,8,Qe)):(0,o.Q3)("v-if",!0)])),_:1})}}};var Be=qe;var Ge=[{label:"Acocks Green",value:"Acocks Green"},{label:"Allens Cross",value:"Allens Cross"},{label:"Alum Rock",value:"Alum Rock"},{label:"Aston",value:"Aston"},{label:"Balsall Heath West",value:"Balsall Heath West"},{label:"Bartley Green",value:"Bartley Green"},{label:"Billesley",value:"Billesley"},{label:"Birchfield",value:"Birchfield"},{label:"Bordesley & Highgate",value:"Bordesley & Highgate"},{label:"Bordesley Green",value:"Bordesley Green"},{label:"Bournbrook & Selly Park",value:"Bournbrook & Selly Park"},{label:"Bournville & Cotteridge",value:"Bournville & Cotteridge"},{label:"Brandwood & King's Heath",value:"Brandwood & King's Heath"},{label:"Bromford & Hodge Hill",value:"Bromford & Hodge Hill"},{label:"Castle Vale",value:"Castle Vale"},{label:"Druids Heath & Monyhull",value:"Druids Heath & Monyhull"},{label:"Edgbaston",value:"Edgbaston"},{label:"Erdington",value:"Erdington"},{label:"Frankley Great Park",value:"Frankley Great Park"},{label:"Garretts Green",value:"Garretts Green"},{label:"Glebe Farm & Tile Cross",value:"Glebe Farm & Tile Cross"},{label:"Gravelly Hill",value:"Gravelly Hill"},{label:"Hall Green North",value:"Hall Green North"},{label:"Hall Green South",value:"Hall Green South"},{label:"Handsworth",value:"Handsworth"},{label:"Handsworth Wood",value:"Handsworth Wood"},{label:"Harborne",value:"Harborne"},{label:"Heartlands",value:"Heartlands"},{label:"Highter's Heath",value:"Highter's Heath"},{label:"Holyhead",value:"Holyhead"},{label:"King's Norton North",value:"King's Norton North"},{label:"King's Norton South",value:"King's Norton South"},{label:"Kingstanding",value:"Kingstanding"},{label:"Ladywood",value:"Ladywood"},{label:"Longbridge & West Heath",value:"Longbridge & West Heath"},{label:"Lozells",value:"Lozells"},{label:"Moseley",value:"Moseley"},{label:"Nechells",value:"Nechells"},{label:"Newtown",value:"Newtown"},{label:"North Edgbaston",value:"North Edgbaston"},{label:"Northfield",value:"Northfield"},{label:"Oscott",value:"Oscott"},{label:"Perry Barr",value:"Perry Barr"},{label:"Perry Common",value:"Perry Common"},{label:"Pype Hayes",value:"Pype Hayes"},{label:"Quinton",value:"Quinton"},{label:"Rubery & Rednal",value:"Rubery & Rednal"},{label:"Shard End",value:"Shard End"},{label:"Sheldon",value:"Sheldon"},{label:"Small Heath",value:"Small Heath"},{label:"Soho & Jewellery Quarter",value:"Soho & Jewellery Quarter"},{label:"South Yardley",value:"South Yardley"},{label:"Sparkbrook & Balsall Heath East",value:"Sparkbrook & Balsall Heath East"},{label:"Sparkhill",value:"Sparkhill"},{label:"Stirchley",value:"Stirchley"},{label:"Stockland Green",value:"Stockland Green"},{label:"Sutton Four Oaks",value:"Sutton Four Oaks"},{label:"Sutton Mere Green",value:"Sutton Mere Green"},{label:"Sutton Reddicap",value:"Sutton Reddicap"},{label:"Sutton Roughley",value:"Sutton Roughley"},{label:"Sutton Trinity",value:"Sutton Trinity"},{label:"Sutton Vesey",value:"Sutton Vesey"},{label:"Sutton Walmley & Minworth",value:"Sutton Walmley & Minworth"},{label:"Sutton Wylde Green",value:"Sutton Wylde Green"},{label:"Tyseley & Hay Mills",value:"Tyseley & Hay Mills"},{label:"Ward End",value:"Ward End"},{label:"Weoley & Selly Oak",value:"Weoley & Selly Oak"},{label:"Yardley East",value:"Yardley East"},{label:"Yardley West & Stechford",value:"Yardley West & Stechford"}];const ze={class:"control"},je={class:"control"},Ye={class:"control"},Ue={key:0};var $e={__name:"RegistrationForm",setup(e){const t=Ge,l=v(),n=(0,c.rd)(),a=(0,o.KR)(""),i=async e=>{try{if((await u.A.post("/wp-json/vueapp/v1/register",e,{headers:{"X-WP-Nonce":window.oplbaseNonce}})).data.success)try{await u.A.post("/wp-json/vueapp/v1/login",{username:e.username,password:e.password});await l.login(e)}catch(e){console.error("Login Error:",e),a.value="Auto-login failed. Please log in manually.",n.push("/login")}else a.value="Registration failed. Please try again."}catch(e){console.log("Registration Error:",e),a.value=e.response&&e.response.data&&e.response.data.message?e.response.data.message:"An error occurred during registration."}};return(e,l)=>{const n=(0,o.g2)("FormKit");return(0,o.uX)(),(0,o.Wv)(n,{type:"form","submit-label":"Register","submit-class":["c-btn","c-btn--primary"],onSubmit:i},{default:(0,o.k6)((()=>[(0,o.Lk)("div",ze,[(0,o.bF)(n,{id:"username",name:"username",type:"text",label:"Username",validation:"required",placeholder:"Enter your username"})]),(0,o.Lk)("div",je,[(0,o.bF)(n,{id:"password",name:"password",type:"password",label:"Password",validation:"required",placeholder:"Enter your password"})]),(0,o.Lk)("div",Ye,[(0,o.bF)(n,{id:"email",name:"email",type:"email",label:"Email",validation:"required|email",placeholder:"Enter your email"})]),(0,o.bF)(n,{type:"select",label:"Ward",name:"ward",placeholder:"Select a ward",options:(0,o.R1)(t)},null,8,["options"]),a.value?((0,o.uX)(),(0,o.CE)("p",Ue,(0,o.v_)(a.value),1)):(0,o.Q3)("v-if",!0)])),_:1})}}};var Ve=$e;const Je={class:"section1 h-flow c-section"},Ze={class:"section c-hero h-2-col"},et={class:"c-feature-box"},tt={key:0},lt={key:1};var nt={__name:"HomePage",setup(e){const t=v(),l=(0,o.EW)((()=>t.userData)),n=(0,o.EW)((()=>t.isAuthenticated));return(e,t)=>{const a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>[(0,o.Lk)("section",Je,[(0,o.Lk)("div",Ze,[t[9]||(t[9]=(0,o.Lk)("div",null,[(0,o.Lk)("h1",null,[(0,o.eW)("One Planet Living"),(0,o.Lk)("sup",null,"®")]),(0,o.Lk)("div",{class:"embed-container"},[(0,o.Lk)("iframe",{src:"https://www.youtube.com/embed/laFZFDhUdYY?controls=0",frameborder:"0",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""})]),(0,o.Lk)("h2",null,[(0,o.eW)("Begin your One Planet Living"),(0,o.Lk)("sup",null,"®"),(0,o.eW)(" Journey")]),(0,o.Lk)("p",null," The video explains the idea behind the project. ")],-1)),(0,o.Lk)("div",et,[n.value?((0,o.uX)(),(0,o.CE)("div",tt,[(0,o.Lk)("p",null,[t[0]||(t[0]=(0,o.eW)(" Welcome, ")),(0,o.Lk)("strong",null,(0,o.v_)(l.value.username),1),t[1]||(t[1]=(0,o.eW)("! "))]),t[3]||(t[3]=(0,o.Lk)("p",null,"Start your Action Plan or access your saved plan",-1)),(0,o.bF)(a,{class:"c-btn c-btn--primary",to:"/actionplan"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)("Action Plan")]))),_:1})])):((0,o.uX)(),(0,o.CE)("div",lt,[(0,o.Q3)(" These are the login and registration forms shown to unauthenticated users "),t[4]||(t[4]=(0,o.Lk)("h3",null,"First Time Here?",-1)),t[5]||(t[5]=(0,o.Lk)("p",null,"Enter your Name and Email to get started.",-1)),(0,o.bF)(Ve),t[6]||(t[6]=(0,o.Lk)("hr",null,null,-1)),t[7]||(t[7]=(0,o.Lk)("h3",null,"Returning?",-1)),t[8]||(t[8]=(0,o.Lk)("p",null,"Enter your Email to retrieve your plan.",-1)),(0,o.bF)(Be)]))])])])])),_:1})}}};l(8371);var ot=(0,s.A)(nt,[["__scopeId","data-v-d00d315c"]]);const at={class:"login"};var it={name:"LoginPage",components:{LoginForm:Be,DefaultLayout:L}};var st=(0,s.A)(it,[["render",function(e,t,l,n,a,i){const s=(0,o.g2)("LoginForm"),r=(0,o.g2)("router-link"),c=(0,o.g2)("DefaultLayout");return(0,o.uX)(),(0,o.Wv)(c,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",at,[t[0]||(t[0]=(0,o.Lk)("h2",null,"Login",-1)),(0,o.bF)(s)]),(0,o.Lk)("p",null,[t[2]||(t[2]=(0,o.eW)(" Don't have an account? ")),(0,o.bF)(r,{to:"/register"},{default:(0,o.k6)((()=>t[1]||(t[1]=[(0,o.eW)("Register here")]))),_:1})])])),_:1})}]]);const rt={class:"c-feature-box"},ct={class:"principle-icons"},ut=["disabled","onClick"],dt=["src"],pt=["innerHTML"],vt={key:0},ht=["innerHTML"],mt={key:1,class:"principle-image"},ft=["src"],kt=["onClick"];var gt={__name:"PrincipleSelect",setup(e){const t=p(),l=(0,c.rd)(),n=(0,c.lq)(),a=(0,o.EW)((()=>n.query.option||"1")).value;console.log("currentOption: ",a),t.setCurrentOption(a);const{principles:i}=N(),s=(0,o.EW)((()=>Object.values(t.options).map((e=>e.currentPrinciple)))),r=(0,o.EW)((()=>{const e={};for(const t of s.value)e[t]=!0;return e})),u=(0,o.KR)(-1);return(e,n)=>((0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.Lk)("div",null,[(0,o.Lk)("div",rt,[(0,o.Lk)("ul",ct,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,o.R1)(i),(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id},[(0,o.Lk)("button",{style:(0,o.Tr)({"background-color":e.color}),class:(0,o.C4)(`principle-icon pi-${e.id}`),disabled:r.value[e.id],onClick:t=>{return l=e.id,void(u.value!==l&&(u.value=l));var l}},[(0,o.Lk)("img",{src:e.icon.url,alt:"{{ principle.title }}"},null,8,dt)],14,ut),(0,o.Lk)("p",null,(0,o.v_)(e.title),1)])))),128))])])]),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,o.R1)(i),(e=>(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:(0,o.C4)(["principle",e])},[(0,o.Lk)("h3",null,(0,o.v_)(e.title),1),(0,o.Lk)("div",{innerHTML:e.description},null,8,pt),e.video?((0,o.uX)(),(0,o.CE)("div",vt,[(0,o.Q3)(" Render video if set "),(0,o.Lk)("div",{innerHTML:e.video,class:"principle-video"},null,8,ht)])):e.image.url?((0,o.uX)(),(0,o.CE)("div",mt,[(0,o.Q3)(" Render image if video is not set "),(0,o.Lk)("img",{src:e.image.url,alt:"Image Alt Text",class:"principle-image"},null,8,ft)])):(0,o.Q3)("v-if",!0),(0,o.Lk)("button",{class:"btn btn--solid",onClick:n=>(e=>{t.setPrinciple(e),t.clearSelectedActions(),l.push({name:"actions",params:{principleId:e.id},query:{option:a}})})(e)}," Choose this principle ",8,kt)],2)),[[o.aG,u.value===e.id]]))),128)),n[0]||(n[0]=(0,o.Lk)("div",null,null,-1))],64))}};l(7780);var yt=(0,s.A)(gt,[["__scopeId","data-v-e80e5a6c"]]);const bt={key:0},Lt={key:1},_t={class:"container"},Ct={name:"OplPrinciples",components:{DefaultLayout:L}};var Et=Object.assign(Ct,{setup(e){const t=v(),l=p(),n=(0,o.EW)((()=>l.currentOption)),a=(0,o.EW)((()=>t.userData.username));return(e,t)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",null,[(0,o.Lk)("div",null,[a.value&&1===n.value?((0,o.uX)(),(0,o.CE)("h2",bt," Let us Begin... OK "+(0,o.v_)(a.value)+", pick your first principle. ",1)):a.value&&n.value>1?((0,o.uX)(),(0,o.CE)("h2",Lt," OK "+(0,o.v_)(a.value)+", pick another principle. ",1)):(0,o.Q3)("v-if",!0),t[0]||(t[0]=(0,o.Lk)("p",null," Choose a One Planet Living Principle that you want to add to your toolkit. The next page will provide you with information and options for actions to implement in your lifestyle. ",-1))]),(0,o.Lk)("div",_t,[(0,o.bF)(yt)])])])),_:1}))}});l(3459);var At=(0,s.A)(Et,[["__scopeId","data-v-21d73f29"]]);const wt={class:"print-plan"},It={class:"print-options"},St={class:"action-plan"},Mt={class:"print__header"},Ht={class:"print__logo"},Tt=["src"],Xt={class:"print__title"},Wt={class:"principles"},Pt={class:"principle__intro"},Ft={class:"principle__header"},Rt=["src","alt"],Dt={class:"principle__description_wrapper"},Ot={class:"principle__description"},Kt={class:"action__info"},Nt={class:"action__image"},xt=["src"],Qt={class:"action__description"},qt=["innerHTML"];var Bt={__name:"PrintHome",setup(e){const t=v(),n=(0,o.EW)((()=>t.userData)),a=l(4537),i=p(),s=i.options,{principles:r,loading:u}=N(),d=(0,o.KR)(!1),h=(0,c.lq)(),m=(0,o.EW)((()=>h.query.option||"1")).value,f=()=>{window.print()};i.setCurrentOption(m);const k=(0,o.KR)([]),g=((0,o.KR)([]),(0,o.KR)());return(0,o.nT)((()=>{d.value=!u.value,d.value&&(console.log("LOADED: "),k.value=r.value,g.value=function(e){const t=[];for(const l in e){const n=e[l],o=k.value.find((e=>e.id===parseInt(n.currentPrinciple)));if(o){const e=o.title,l=o.description,a=o.color,i=o.icon,s=o.id,r=[];for(const e of n.actions){const t=o.actions.find((t=>t.id===parseInt(e.actionId)));if(t){const l=e.tools.map((e=>{const l=t.tools.find((t=>t.id===e));if(l)return{toolId:l.id,toolTitle:l.title,toolDescription:l.description}})).filter(Boolean);r.push({actionName:t.title,actionDescription:t.description,actionImage:t.image,tools:l})}}t.push({principleName:e,principleDescription:l,principleColor:a,principleIcon:i,principleId:s,actions:r})}}return t}(s))})),(e,t)=>{const l=(0,o.g2)("router-link"),i=(0,o.gN)("strip-html");return(0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>[(0,o.Lk)("div",wt,[(0,o.Lk)("section",It,[(0,o.bF)(l,{class:"btn btn--outline no-printer",to:"/printrequest"},{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.eW)("I don't have a printer")]))),_:1}),(0,o.Lk)("button",{class:"btn btn--solid",onClick:f},"Print")]),(0,o.Lk)("div",St,[(0,o.Lk)("div",Mt,[(0,o.Lk)("div",Ht,[(0,o.Lk)("img",{src:(0,o.R1)(a),alt:"Logo Eco",class:"logo-eco"},null,8,Tt)]),(0,o.Lk)("div",Xt,[(0,o.Lk)("h1",null,(0,o.v_)(n.value.username)+"’s One Planet Living Action Plan",1)]),t[1]||(t[1]=(0,o.Lk)("div",null,null,-1))]),(0,o.Lk)("div",Wt,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(g.value,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"principle-column",style:(0,o.Tr)({backgroundColor:e.principleColor,boxShadow:`inset 0 0 0 1000px ${e.principleColor}`})},[(0,o.Lk)("div",Pt,[(0,o.Lk)("div",Ft,[(0,o.Lk)("div",{class:(0,o.C4)("principle-icon pi-"+e.principleId)},[(0,o.Lk)("div",{class:(0,o.C4)("principle-icon pi-"+e.principleId)},[e.principleIcon?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.principleIcon.url,alt:e.principleName},null,8,Rt)):(0,o.Q3)("v-if",!0)],2)],2),(0,o.Lk)("h2",null,(0,o.v_)(e.principleName),1)]),(0,o.Lk)("div",Dt,[(0,o.bo)((0,o.Lk)("div",Ot,null,512),[[i,e.principleDescription]])])]),e.principleName?((0,o.uX)(),(0,o.CE)("div",{key:0,class:"principle filled",style:(0,o.Tr)({backgroundColor:e.principleColor,boxShadow:`inset 0 0 0 1000px ${e.principleColor}`})},[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.actions,(e=>((0,o.uX)(),(0,o.CE)("div",{key:e.id,class:"panel"},[(0,o.Lk)("div",Kt,[(0,o.Lk)("div",Nt,[e.actionImage?((0,o.uX)(),(0,o.CE)("img",{key:0,src:e.actionImage.url,alt:"{{ action.title }}"},null,8,xt)):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",Qt,[(0,o.Lk)("h3",null,(0,o.v_)(e.actionName),1),(0,o.Lk)("div",{class:"action__text",innerHTML:e.actionDescription},null,8,qt)])])])))),128))],4)):(0,o.Q3)("v-if",!0)],4)))),128))])])])])),_:1})}}};l(1099);var Gt=(0,s.A)(Bt,[["__scopeId","data-v-b5321de0"]]);var zt={__name:"PrintPage",setup(e){return(e,t)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>t[0]||(t[0]=[(0,o.Lk)("h2",null,"Print sheet",-1)]))),_:1}))}};const jt={class:"print-options"};var Yt={__name:"PrintRequest",setup(e){const t=async e=>{try{const t=await u.A.post("/wp-json/vueapp/v1/send_email",e);console.log("Email sent successfully"),console.log(t.data.message)}catch(e){console.error("Error sending email:",e)}};return(e,l)=>{const n=(0,o.g2)("FormKit");return(0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>[(0,o.Lk)("section",jt,[(0,o.bF)(n,{type:"form",onSubmit:t},{default:(0,o.k6)((()=>[(0,o.bF)(n,{type:"text",label:"Name",name:"name",validation:"required",placeholder:"Enter your full name"}),(0,o.bF)(n,{type:"text",label:"Street Address",name:"street",validation:"required",placeholder:"123 Street Name"}),(0,o.bF)(n,{type:"text",label:"City",name:"city",validation:"required",placeholder:"City"}),(0,o.bF)(n,{type:"text",label:"Postcode",name:"postcode",validation:"required|length:6,8",placeholder:"AB12 3CD"})])),_:1})])])),_:1})}}};l(8548);var Ut=(0,s.A)(Yt,[["__scopeId","data-v-c8e3aa28"]]);const $t={class:"login"};var Vt={name:"RegisterUser",components:{RegistrationForm:Ve},beforeCreate(){console.log("Before Create - RegisterUser")},created(){console.log("Created - RegisterUser")}};var Jt=(0,s.A)(Vt,[["render",function(e,t,l,n,a,i){const s=(0,o.g2)("RegistrationForm");return(0,o.uX)(),(0,o.CE)("div",$t,[t[0]||(t[0]=(0,o.Lk)("h2",null,"Register",-1)),(0,o.bF)(s)])}]]);l(7642),l(8004),l(3853),l(5876),l(2475),l(5024),l(1698);const Zt={key:1},el={class:"section1 h-flow c-section"},tl={class:"section c-hero h-2-col"},ll={key:0},nl={class:"main-content"},ol={key:0},al={key:0,class:"panel selected wide-style"},il=["src"],sl=["innerHTML"],rl={class:"validation-area"},cl={key:0,class:"validation-message"},ul={class:"panel-list"},dl=["onClick"],pl=["innerHTML"],vl=["onClick"],hl={name:"OplTools",components:{DefaultLayout:L}};var ml=Object.assign(hl,{setup(e){const{principles:t,loading:l}=N(),n=(0,o.KR)(!1),a=p(),i=(0,c.rd)(),s=(0,c.lq)(),r=(0,o.EW)((()=>s.query.option||"1")).value,u=parseInt(s.params.principleId),d=parseInt(s.params.actionId),v=r,h=(0,o.KR)(null),m=(0,o.KR)([]),f=(0,o.KR)([]),k=(0,o.KR)(new Set);(0,o.nT)((()=>{if(n.value=!l.value,n.value){console.log("LOADED: ");const e=t.value.find((e=>e.id===u));h.value=e;const l=e.actions.find((e=>e.id===d));m.value=l,f.value=l?l.tools:[]}}));a.options[v];a.addSelectedAction(d);const g=(0,o.KR)("");(0,o.EW)((()=>function(){const e=[],t=a.getStoredToolsForAction(d);for(const l of t){const t=m.value.tools.find((e=>e.id===l));t&&e.push({toolId:t.id,toolTitle:t.title,toolDescription:t.description})}return e}()));const y=e=>{a.removeToolFromAction(v,d,e.id),k.value.delete(e.id)},b=async e=>{a.saveState(),i.push({name:"actions",params:{principleId:u},query:{option:r}})};return(e,t)=>((0,o.uX)(),(0,o.Wv)(L,null,{default:(0,o.k6)((()=>[(0,o.R1)(l)?((0,o.uX)(),(0,o.Wv)(q,{key:0})):((0,o.uX)(),(0,o.CE)("div",Zt,[(0,o.Lk)("section",el,[(0,o.Lk)("div",tl,[t[0]||(t[0]=(0,o.Lk)("div",{class:"c-hero--text"},[(0,o.Lk)("h1",null,"What tools or support do you need?"),(0,o.Lk)("p",null,"View the links and resources that will help you meet your goal.")],-1)),n.value?((0,o.uX)(),(0,o.CE)("div",ll,[(0,o.bF)(S,{principle:h.value},null,8,["principle"])])):(0,o.Q3)("v-if",!0)]),(0,o.Lk)("div",nl,[n.value?((0,o.uX)(),(0,o.CE)("div",ol,[(0,o.Q3)(" /////// CURRENT ACTION /////// "),m.value?((0,o.uX)(),(0,o.CE)("div",al,[m.value.image?((0,o.uX)(),(0,o.CE)("img",{key:0,src:m.value.image.url,alt:"{{ action.title }}",class:"principle-image"},null,8,il)):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",null,[(0,o.Lk)("h3",null,(0,o.v_)(m.value.title),1),(0,o.Lk)("div",{innerHTML:m.value.description},null,8,sl)])])):(0,o.Q3)("v-if",!0),(0,o.Lk)("div",rl,[(0,o.bF)(o.F,{name:"fade"},{default:(0,o.k6)((()=>[g.value?((0,o.uX)(),(0,o.CE)("span",cl,(0,o.v_)(g.value),1)):(0,o.Q3)("v-if",!0)])),_:1})]),k.value.size>0?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"c-btn c-btn--primary",onClick:b}," Continue with these selections ")):(0,o.Q3)("v-if",!0),t[1]||(t[1]=(0,o.Lk)("h3",null,"Select tools below and then click continue when you are happy.",-1)),t[2]||(t[2]=(0,o.Lk)("hr",null,null,-1)),(0,o.Q3)(" Display tools relevant to the current action "),(0,o.Lk)("ul",ul,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(f.value,(e=>((0,o.uX)(),(0,o.CE)("li",{key:e.id,class:(0,o.C4)(["panel-list__item",{selected:k.value.has(e.id)}])},[(0,o.Lk)("div",{class:"panel tool",onClick:()=>(e=>{k.value.has(e.id)?y(e):k.value.size<3?(a.addToolToAction(v,d,e.id),k.value.add(e.id),g.value=""):g.value="You can only select up to 3 tools."})(e)},[(0,o.Lk)("h3",null,(0,o.v_)(e.title),1),e.description?((0,o.uX)(),(0,o.CE)("p",{key:0,innerHTML:e.description},null,8,pl)):(0,o.Q3)("v-if",!0),(0,o.Q3)(" Show remove button inside selected tools "),k.value.has(e.id)?((0,o.uX)(),(0,o.CE)("button",{key:1,class:"c-btn c-btn--utility remove-btn",onClick:(0,o.D$)((()=>y(e)),["stop"])},[(0,o.bF)(R)],8,vl)):(0,o.Q3)("v-if",!0)],8,dl)],2)))),128))]),t[3]||(t[3]=(0,o.Lk)("hr",null,null,-1)),k.value.size>0?((0,o.uX)(),(0,o.CE)("button",{key:2,class:"c-btn c-btn--primary",onClick:b}," Continue with these selections ")):(0,o.Q3)("v-if",!0)])):(0,o.Q3)("v-if",!0)])])]))])),_:1}))}});l(2421);var fl=(0,s.A)(ml,[["__scopeId","data-v-795c0b13"]]);const kl=(0,c.aE)({history:(0,c.Bt)(),routes:[{path:"/",name:"Home",component:ot},{path:"/login",name:"Login",component:st},{path:"/register",name:"Register",component:Jt},{path:"/principles",name:"Principles",component:At,meta:{requiresAuth:!0}},{path:"/principle/:principleId/action",name:"actions",component:ke,meta:{requiresAuth:!0}},{path:"/principle/:principleId/action/:actionId/tools",name:"tools",component:fl,meta:{requiresAuth:!0}},{path:"/actionplan",name:"Actionplan",component:xe,meta:{requiresAuth:!0}},{path:"/printhome",name:"PrintHome",component:Gt,meta:{requiresAuth:!0}},{path:"/printpage",name:"PrintPage",component:zt,meta:{requiresAuth:!0}},{path:"/printrequest",name:"PrintRequest",component:Ut,meta:{requiresAuth:!0}},{path:"/get_user_meta",name:"Get user meta"},{path:"/update_user_meta",name:"Update user meta"},{path:"/send_email",name:"Send email"}]});kl.beforeEach(((e,t,l)=>{const n=v();e.matched.some((e=>e.meta.requiresAuth))&&!n.isAuthenticated?l({path:"/login"}):l()}));var gl=kl,yl=l(9513);l(1266);var bl={beforeMount(e,t){const l=document.createElement("div");l.innerHTML=t.value;let n=l.textContent||l.innerText||"";n=n.replace(/\u00A0/g," "),e.textContent=n},updated(e,t){const l=document.createElement("div");l.innerHTML=t.value;let n=l.textContent||l.innerText||"";n=n.replace(/\u00A0/g," "),e.textContent=n}};const Ll=(0,o.Ef)(r),_l=(0,n.Ey)();Ll.use(yl.IQ,(0,yl.sb)({theme:"genesis"})),Ll.use(_l),Ll.use(gl),Ll.directive("strip-html",bl),Ll.mount("#oplbase-frontend-app");v().checkAuth()},5235:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},2758:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},4605:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},8459:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},9581:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},2684:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},1868:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},8050:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},5183:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},2192:function(e,t,l){var n,o;n=void 0,o=l(9140)(e.id,{esModule:!1}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},1445:function(e,t,l){"use strict";var n,o;n=void 0,o=l(9140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},7063:function(e,t,l){"use strict";var n,o;n=void 0,o=l(9140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},3578:function(e,t,l){"use strict";var n,o;n=void 0,o=l(9140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},8371:function(e,t,l){"use strict";var n,o;n=void 0,o=l(9140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==n?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=n,o()}))},5034:function(e,t,l){var n=l(5235);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("722fdc92",n,!1,{});n.locals||e.hot.accept(5235,(function(){var t=l(5235);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},5797:function(e,t,l){var n=l(2758);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("e51c46d2",n,!1,{});n.locals||e.hot.accept(2758,(function(){var t=l(2758);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},9314:function(e,t,l){var n=l(4605);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("6cc61ae7",n,!1,{});n.locals||e.hot.accept(4605,(function(){var t=l(4605);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},7780:function(e,t,l){var n=l(8459);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("ccd6f30c",n,!1,{});n.locals||e.hot.accept(8459,(function(){var t=l(8459);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},8354:function(e,t,l){var n=l(9581);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("4cbaf7c8",n,!1,{});n.locals||e.hot.accept(9581,(function(){var t=l(9581);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},6929:function(e,t,l){var n=l(2684);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("58348673",n,!1,{});n.locals||e.hot.accept(2684,(function(){var t=l(2684);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},3459:function(e,t,l){var n=l(1868);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("7bea81e7",n,!1,{});n.locals||e.hot.accept(1868,(function(){var t=l(1868);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},1099:function(e,t,l){var n=l(8050);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("0db081a5",n,!1,{});n.locals||e.hot.accept(8050,(function(){var t=l(8050);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},8548:function(e,t,l){var n=l(5183);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("451cfbf8",n,!1,{});n.locals||e.hot.accept(5183,(function(){var t=l(5183);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},2421:function(e,t,l){var n=l(2192);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=(0,l(534).A)("a284b4e6",n,!1,{});n.locals||e.hot.accept(2192,(function(){var t=l(2192);t.__esModule&&(t=t.default),"string"==typeof t&&(t=[[e.id,t,""]]),o(t)})),e.hot.dispose((function(){o()}))},4537:function(e,t,l){"use strict";e.exports=l.p+"images/326504adaaf92ac038ec.png"}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[96],(function(){return t(3619),t(5034)}));e.O()}]);